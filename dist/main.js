(()=>{"use strict";const e=(()=>{const e=[],t=(t,n,d,c,o)=>{t.title=n,t.description=d,t.dueDate=c,t.priority=o,console.log(e)};return{createNewTask:(t,n,d,c,o)=>{const l={};l.title=t,l.description=n,l.dueDate=d,l.priority=c,l.checked=!1,l.projectIndex=o,e.push(l)},returnTasks:()=>e,deleteTask:t=>{let n=e.indexOf(t);e.splice(n,1)},editTask:t,isChecked:e=>!!e.checked,setChecked:(e,t)=>{e.checked=t},editTask:t}})(),t=(()=>{const e=[];return{createNewProject:t=>{const n={};return n.name=t,e.push(t),n},deleteProject:t=>{e.splice(t,1)},getProjects:()=>e}})(),n=t,d=t=>{(()=>{const e=document.querySelector("#taskList"),t=document.querySelector("#listOfTasks");t&&e.removeChild(t);const n=document.createElement("ul");n.id="listOfTasks",e.append(n)})();const n=document.querySelector("#listOfTasks");for(let d of t){let t=document.createElement("li");t.classList.add("tasks");let c=document.createElement("div"),o=document.createElement("input");o.type="checkbox",o.classList.add("checkbox"),o.setAttribute("id",d.title),e.isChecked(d)&&(o.checked=!0),c.append(o);let l=document.createElement("span");l.textContent=d.title,c.append(l),t.append(c);let r=document.createElement("div"),a=document.createElement("button");a.classList.add("infoTask"),a.textContent="Info",r.append(a);let s=document.createElement("button");s.classList.add("editTask"),s.textContent="Edit",r.append(s);let i=document.createElement("button");i.classList.add("deleteTask"),i.textContent="delete",r.append(i),t.append(r),n.append(t)}},c=(()=>{const t=document.querySelector(".addTaskButton"),n=document.querySelector("#modal-overlay"),d=document.querySelector(".cancel"),c=document.querySelector("#modal"),o=(document.querySelector(".formHeader"),document.querySelector(".formButtons"),()=>{n.style.display="flex"}),l=()=>{n.style.display="none"},r=()=>{document.querySelector("#modal-content")&&c.removeChild(document.querySelector("#modal-content"));const e=document.createElement("div");e.setAttribute("id","modal-content");const t=document.createElement("h2");t.classList.add("formHeader"),t.textContent="Add Task",e.append(t);const n=document.createElement("form"),d=document.createElement("div");d.classList.add("titleInput");const r=document.createElement("label");r.setAttribute("for","title"),r.textContent="Title";const a=document.createElement("input");a.type="text",a.setAttribute("id","title"),d.appendChild(r),d.appendChild(a),n.appendChild(d);const i=document.createElement("div");i.classList.add("descriptionInput");const u=document.createElement("label");u.setAttribute("for","description"),u.textContent="Description";const m=document.createElement("input");m.type="text",m.setAttribute("id","description"),i.appendChild(u),i.appendChild(m),n.appendChild(i);const p=document.createElement("div");p.classList.add("dateInput");const v=document.createElement("label");v.setAttribute("for","date"),v.textContent="Due Date";const E=document.createElement("input");E.type="date",E.setAttribute("id","date"),p.appendChild(v),p.appendChild(E),n.appendChild(p);const C=document.createElement("div");C.classList.add("priorityInput");const y=document.createElement("label");y.setAttribute("for","priority"),y.textContent="Priority";const k=document.createElement("select");k.setAttribute("name","priority"),k.setAttribute("id","priority");const h=document.createElement("option");h.textContent="Low",h.setAttribute("value","low");const f=document.createElement("option");f.textContent="Medium",f.setAttribute("value","medium");const S=document.createElement("option");S.textContent="High",S.setAttribute("value","high"),k.appendChild(h),k.appendChild(f),k.appendChild(S),C.appendChild(y),C.appendChild(k),n.appendChild(C);const q=document.createElement("div");q.classList.add("formButtons");const x=document.createElement("button");x.classList.add("submit"),x.textContent="Submit";const b=document.createElement("button");b.classList.add("cancel"),b.textContent="Cancel",q.appendChild(x),q.appendChild(b),e.appendChild(n),e.appendChild(q),c.appendChild(e),o(),b.addEventListener("click",(()=>l())),s()};return t.addEventListener("click",(()=>{r()})),d.addEventListener("click",(e=>{e.preventDefault(),l(),[...document.querySelectorAll("inputs")].forEach((e=>e.value=""))})),{infoModal:e=>{document.querySelector("#modal-content")&&c.removeChild(document.querySelector("#modal-content"));const t=document.createElement("div");t.setAttribute("id","modal-content");const n=document.createElement("h2");n.className="formHeader",n.textContent="Task Info",t.append(n);const d=document.createElement("div");d.classList.add("titleInput");const r=document.createElement("p");r.classList.add("infoInput"),r.textContent="Title",d.appendChild(r);const a=document.createElement("p");a.setAttribute("id","title"),a.textContent=e.title,d.append(a),t.append(d);const s=document.createElement("div");s.classList.add("descriptionInput");const i=document.createElement("p");i.classList.add("infoInput"),i.textContent="Description",s.appendChild(i);const u=document.createElement("p");u.setAttribute("id","description"),u.textContent=e.description,s.append(u),t.append(s);const m=document.createElement("div");m.classList.add("dateInput");const p=document.createElement("span");p.classList.add("infoInput"),p.textContent="Due Date",m.appendChild(p);const v=document.createElement("p");v.setAttribute("id","date"),v.textContent=e.dueDate,m.append(v),t.append(m);const E=document.createElement("div");E.classList.add("priorityInput");const C=document.createElement("p");C.classList.add("infoInput"),C.textContent="Priority",E.appendChild(C);const y=document.createElement("p");y.setAttribute("id","date"),y.textContent=e.priority,E.append(y),t.append(E);const k=document.createElement("div");k.classList.add("formButtons");const h=document.createElement("button");h.classList.add("cancel"),h.textContent="Close",k.append(h),t.appendChild(k),c.append(t),o(),h.addEventListener("click",(()=>l()))},editModal:t=>{r(),l();const n=document.querySelector(".formHeader"),d=document.querySelector("#title"),c=document.querySelector("#description"),a=document.querySelector("#date"),s=document.querySelector("#priority"),i=document.querySelector(".formButtons"),u=document.querySelector(".submit");i.removeChild(u);const m=document.createElement("button");m.classList.add("editSubmit"),m.textContent="Submit",i.prepend(m),d.value=t.title,c.value=t.description,a.value=t.dueDate,s.value=t.priority,n.textContent="Edit Task",o();let p=document.getElementById(t.title);m.addEventListener("click",(()=>{console.log("here"),e.editTask(t,d.value,c.value,a.value,s.value),p.id=t.title,p.nextElementSibling.textContent=t.title,l()}))},closeModal:l}})(),o=()=>{[...document.querySelectorAll(".infoTask")].forEach((t=>{t.addEventListener("click",(()=>{let n=t.parentElement.previousElementSibling.firstChild.id,d=e.returnTasks().filter((e=>e.title===n));c.infoModal(d[0])}))}))},l=()=>{[...document.querySelectorAll(".checkbox")].forEach((t=>{let n=e.returnTasks().filter((e=>e.title===t.id));t.checked?e.setChecked(n[0],!0):t.checked||e.setChecked(n[0],!1)}))},r=()=>{const t=[...document.querySelectorAll(".deleteTask")],n=document.querySelector("#listOfTasks");t.forEach((t=>{t.addEventListener("click",(()=>{let d=t.parentElement.previousElementSibling.firstChild.id,c=e.returnTasks().filter((e=>e.title===d));e.deleteTask(c[0]);let o=t.parentElement.parentElement;n.removeChild(o)}))}))},a=()=>{[...document.querySelectorAll(".editTask")].forEach((t=>{t.addEventListener("click",(()=>{let n=t.parentElement.previousElementSibling.firstChild.id,d=e.returnTasks().filter((e=>e.title===n));c.editModal(d[0])}))}))},s=()=>{const t=document.querySelector(".nameOfPage"),l=document.querySelector(".submit"),s=document.querySelector("#modal-overlay"),i=document.querySelector("#title"),u=document.querySelector("#description"),m=document.querySelector("#date"),p=document.querySelector("#priority"),v=document.querySelector(".titleInput"),E=document.createElement("p");l.addEventListener("click",(()=>{if(document.querySelectorAll(".infoTask"),""===i.value)E.classList.add("requiredField"),v.appendChild(E),E.textContent="This field is required.";else{if("All"===t.textContent)e.createNewTask(i.value,u.value,m.value,p.value),d(e.returnTasks()),i.value="",u.value="",m.value="",p.value="";else{let c=n.getProjects().indexOf(t.textContent);e.createNewTask(i.value,u.value,m.value,p.value,c);const o=e.returnTasks().filter((e=>e.projectIndex===c));d(o)}i.value="",u.value="",m.value="",p.value="",s.style.display="none",document.querySelector(".requiredField")&&v.removeChild(E),c.closeModal(),o(),r(),a()}}))};e.createNewTask("meow","description","date","low",0),e.createNewTask("HelloDickhead","vdsvcds","vswvdfvdvds","vsdv",0),e.createNewTask("csvsd","vdsvcds","vswvds","vsdvdfvv"),d(e.returnTasks()),(()=>{(()=>{const e=document.querySelector(".addProject"),t=document.querySelector(".listOfProjects");document.querySelector(".addTaskButtonHere"),e.addEventListener("click",(()=>{const e=prompt("Enter the name of your Project:");n.createNewProject(e);const d=document.createElement("li");d.classList.add("projectItem"),d.textContent=e,t.appendChild(d)})),document.querySelector(".addTaskButtonHere"),document.querySelector("addTaskButton")})();const t=document.querySelector(".all"),c=(document.querySelector(".today"),document.querySelector(".week"),document.querySelector(".completed"),document.querySelector(".nameOfPage"));t.addEventListener("click",(()=>{c.textContent="All",l(),d(e.returnTasks()),o(),r(),a()})),document.body.addEventListener("click",(function(t){if("projectItem"==t.target.className){c.textContent=t.target.textContent,l();let s=n.getProjects().indexOf(t.target.textContent);const i=e.returnTasks().filter((e=>e.projectIndex===s));d(i),o(),r(),a()}})),o(),r(),a()})()})();