(()=>{"use strict";const e=(()=>{const e=[];return{createNewTask:(t,c,n,o,r)=>{const l={};l.title=t,l.description=c,l.dueDate=n,l.priority=o,l.checked=!1,l.projectIndex=r,e.push(l)},returnTasks:()=>e,deleteTask:()=>{},editTask:()=>{},isChecked:function(e){return!!e.checked},setChecked:function(e,t){e.checked=t}}})(),t=(()=>{const e=[];return{createNewProject:t=>{const c={};return c.name=t,e.push(t),c},deleteProject:t=>{e.splice(t,1)},getProjects:()=>e}})(),c=t,n=t=>{(()=>{const e=document.querySelector("#taskList"),t=document.querySelector("#listOfTasks");t&&e.removeChild(t);const c=document.createElement("ul");c.id="listOfTasks",e.append(c)})();const c=document.querySelector("#listOfTasks");for(let n of t){let t=document.createElement("li");t.classList.add("tasks");let o=document.createElement("input");o.type="checkbox",o.classList.add("checkbox"),o.setAttribute("id",n.title),console.log(e.isChecked(n)),e.isChecked(n)&&(o.checked=!0),t.append(o);let r=document.createElement("span");r.textContent=n.title,t.append(r),c.append(t)}},o=()=>{[...document.querySelectorAll(".checkbox")].forEach((t=>{let c=e.returnTasks().filter((e=>e.title===t.id));t.checked?e.setChecked(c[0],!0):t.checked||e.setChecked(c[0],!1)}))};(()=>{const e=document.querySelector(".addTaskButton"),t=document.querySelector("#modal-overlay"),c=document.querySelector(".cancel");e.addEventListener("click",(()=>{t.style.display="flex"})),c.addEventListener("click",(e=>{e.preventDefault(),console.log("here"),t.style.display="none"}))})(),n(e.returnTasks()),(()=>{(()=>{const t=document.querySelector(".nameOfPage"),o=document.querySelector(".submit"),r=document.querySelector("#modal-overlay");o.addEventListener("click",(o=>{o.preventDefault();const l=document.querySelector("#title"),d=document.querySelector("#description"),u=document.querySelector("#date"),s=document.querySelector("#priority"),a=document.querySelector(".requiredField");if(""===l.value)a.textContent="This field is required.";else{if("All"===t.textContent)e.createNewTask(l.value,d.value,u.value,s.value),n(e.returnTasks()),l.value="",d.value="",u.value="",s.value="";else{let o=c.getProjects().indexOf(t.textContent);e.createNewTask(l.value,d.value,u.value,s.value,o);const r=e.returnTasks().filter((e=>e.projectIndex===o));n(r)}l.value="",d.value="",u.value="",s.value="",r.style.display="none",a.textContent=""}}))})(),(()=>{const e=document.querySelector(".addProject"),t=document.querySelector(".listOfProjects");document.querySelector(".addTaskButtonHere"),e.addEventListener("click",(()=>{const e=prompt("Enter the name of your Project:");c.createNewProject(e);const n=document.createElement("li");n.classList.add("projectItem"),n.textContent=e,t.appendChild(n)})),document.querySelector(".addTaskButtonHere"),document.querySelector("addTaskButton")})();const t=document.querySelector(".all"),r=(document.querySelector(".today"),document.querySelector(".week"),document.querySelector(".completed"),document.querySelector(".nameOfPage"));t.addEventListener("click",(()=>{r.textContent="All",o(),n(e.returnTasks())})),document.body.addEventListener("click",(function(t){if("projectItem"==t.target.className){r.textContent=t.target.textContent,o();let l=c.getProjects().indexOf(t.target.textContent);const d=e.returnTasks().filter((e=>e.projectIndex===l));n(d)}}))})()})();